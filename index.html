<!DOCTYPE html>
<html>
<head>
    <title>US Median Income Scatter Plot</title>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <style>
        .tooltip { 
            position: absolute;
            background-color: #f9f9f9;
            padding: 5px;
            border: 1px solid #d3d3d3;
        }
    </style>
</head>
<body>
    <h1>Income by State</h1>
    <ul>
        <li>This is an exploration of what states have the highest income growth and what factors are correlated with that growth.</li>
    </ul>
    <div id="scatter-plot"></div>
    
    <div class="button-container">
        <button onClick="window.location.href='page1.html';">Next</button>
    </div>

    <script>
        // Scatterplot code...
    
        // Load data
        d3.csv("State_Income_Clean.csv").then(data => {
            // Parse and prepare the data
            // ...
    
            // Add dots
            svg.selectAll("dot")
                .data(data)
                .join("circle")
                .attr("r", 3.5)
                .attr("cx", d => x(d['YoY Growth']))
                .attr("cy", d => y(d['2021 Median income']))
                .attr("fill", "steelblue")
                .on("mouseover", function(event, d) {
                    tooltip.style("visibility", "visible")
                        .html(`State: ${d.state}<br>2021 Median Income: ${d['2021 Median income']}<br>YoY Growth: ${d['YoY Growth']}`);
                })
                .on("mousemove", function(event) {
                    tooltip.style("top", (event.pageY-10)+"px")
                        .style("left",(event.pageX+10)+"px");
                })
                .on("mouseout", function() {
                    tooltip.style("visibility", "hidden");
                });
    
            // Create a div for the tooltip
            var tooltip = d3.select("body")
                .append("div")
                .style("position", "absolute")
                .style("z-index", "10")
                .style("visibility", "hidden")
                .style("background", "#ffffff")
                .style("border", "solid")
                .style("border-width", "1px")
                .style("border-radius", "5px")
                .style("padding", "10px");
        });
    </script>
    
</body>
</html>
